title: Swift学习笔记
date: 2015-09-20 22:07:49
tags:
---
### 构造器调用链的规则
```bash
Swift对构造器之间的调用链制定了如下3条规则：
    子类构造器必须调用直接父类的指定构造器(如果有父类)
    便利构造器必须调用同一个类中得其他构造器
    便利构造器调用的构造器链的最终节点必须是制定构造器
简化记忆为：
    指定构造器总是向上代理（调用父类构造器）
    便利构造器总是必须横向代理（调用当前类的其他构造器）
```
![类的构造器链](http://upload-images.jianshu.io/upload_images/545868-a5f483a4478e3c09.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 两段式构造
```bash
    1、类的构造需要两个阶段：
            第一阶段：
                程序调用子类的某个构造器；
                为实例分配内存，此时实例的内存还没有被初始化；
                指定构造器确保子类定义的所有实例存储属性都已经被赋值；
                指定构造器将调用父类的构造器，完成父类定义的实例存储属性的初始化
                沿着调用父类构造器的构造器链一直往往上执行，直到达到构造器链的最顶部
```
### 安全检查
``` bash
    安全检查1：指定构造器必须先初始化当前类中定义的实例存储属性，然后才能向上调用父类构造器
    安全检查2：指定构造器必须先向上调用父类构造器，然后才能对继承得到的属性赋值
    安全检查3：便利构造器必须先调用同一个类的其他构造器，然后才能进行赋值
    安全检查4：构造器在第一阶段完成之前，不能调用实例方法，不能读取实例属性
    建议：为实例存储属性指定初始值
```

### 扩展的特性														 
>   使用扩展添加属性、方法、可变方法、构造器、下标、嵌套类型
>   可以使一个已有类型符合一个或者多个协议
>   Swift的扩展与Objective-C的类目（category）类似，只是Swift中的扩展没有名字
>   扩展并不是派生子类，因此不支持重写


### 扩展可以添加3种属性
>    类型存储属性
>    实例计算属性
>    类型计算属性
